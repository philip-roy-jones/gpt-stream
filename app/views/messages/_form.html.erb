<%= form_with model: [chat, Message.new], class: "w-full", data: { controller: "form" } do |form| %>
  <label class="sr-only" for="prompt">Ask anything</label>

  <div
    class="flex items-center gap-2 rounded-full bg-white px-2 py-1.5 h-11
         ring-1 ring-slate-400 shadow-sm
         hover:ring-2 hover:ring-blue-600
         focus-within:ring-2 focus-within:ring-blue-600 transition"
    data-action="click->form#focusInput"
  >
    <!-- Input -->
    <%= form.text_field :content,
                        id: "prompt",
                        placeholder: "Ask anything",
                        required: true,
                        autocomplete: "off",
                        data: { "form-target": "input" },
                        class: "peer w-full bg-transparent text-sm md:text-base
                        text-slate-800 placeholder-slate-400
                        focus:outline-none px-2" %>

    <%= render "messages/form_button_container", form: form, is_streaming: chat.is_streaming %>
  </div>
<% end %>